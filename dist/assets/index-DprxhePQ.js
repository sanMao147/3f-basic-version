import{r as A,j as d}from"./index-yuHbNPaW.js";import{V as I,a as E,Q as W,M as $t,S as Ye,b as Ae,C as Se,E as En,O as Ne,P as ze,c as ee,T as te,R as Pn,d as _n,u as X,e as Jt,_ as Cn,f as jn,g as en,h as ct,B as An,i as Sn,j as ae,k as Dn,l as On,m as Tn,U as In,F as kn,n as Ln,o as Rn,p as Nn}from"./CanvasProgress-R8vG0IFt.js";function zn(n,t="pointer",a="auto",e=document.body){A.useEffect(()=>{if(n)return e.style.cursor=t,()=>void(e.style.cursor=a)},[n])}function ge(n,t,a){return t in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}function Ue(n,t){(t==null||t>n.length)&&(t=n.length);for(var a=0,e=new Array(t);a<t;a++)e[a]=n[a];return e}function Fn(n,t){if(n){if(typeof n=="string")return Ue(n,t);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ue(n,t)}}function Hn(n){if(Array.isArray(n))return Ue(n)}function Yn(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Un(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bn(n){return Hn(n)||Yn(n)||Fn(n)||Un()}new I;new I;function Gn(n,t,a){return Math.max(t,Math.min(a,n))}function Zn(n,t){return Gn(n-Math.floor(n/t)*t,0,t)}function qn(n,t){var a=Zn(t-n,Math.PI*2);return a>Math.PI&&(a-=Math.PI*2),a}function tn(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var R=function n(t,a,e){var i=this;tn(this,n),ge(this,"dot2",function(c,l){return i.x*c+i.y*l}),ge(this,"dot3",function(c,l,r){return i.x*c+i.y*l+i.z*r}),this.x=t,this.y=a,this.z=e},Xn=[new R(1,1,0),new R(-1,1,0),new R(1,-1,0),new R(-1,-1,0),new R(1,0,1),new R(-1,0,1),new R(1,0,-1),new R(-1,0,-1),new R(0,1,1),new R(0,-1,1),new R(0,1,-1),new R(0,-1,-1)],lt=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],ut=new Array(512),ht=new Array(512),Vn=function(t){t>0&&t<1&&(t*=65536),t=Math.floor(t),t<256&&(t|=t<<8);for(var a=0;a<256;a++){var e;a&1?e=lt[a]^t&255:e=lt[a]^t>>8&255,ut[a]=ut[a+256]=e,ht[a]=ht[a+256]=Xn[e%12]}};Vn(0);function Kn(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var t=n;n=0;for(var a=0;a<t.length;a++)n=(n+(a+1)*(t.charCodeAt(a)%96))%2147483647}return n===0&&(n=311),n}function ft(n){var t=Kn(n);return function(){var a=t*48271%2147483647;return t=a,a/2147483647}}var Wn=function n(t){var a=this;tn(this,n),ge(this,"seed",0),ge(this,"init",function(e){a.seed=e,a.value=ft(e)}),ge(this,"value",ft(this.seed)),this.init(t)};new Wn(Math.random());var Qn=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return e/Math.atan(1/a)*Math.atan(Math.sin(2*Math.PI*t*i)/a)},nn=function(t){return 1/(1+t+.48*t*t+.235*t*t*t)},$n=function(t){return t},Jn={in:function(t){return 1-Math.cos(t*Math.PI/2)},out:function(t){return Math.sin(t*Math.PI/2)},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},eo={in:function(t){return t*t*t},out:function(t){return 1-Math.pow(1-t,3)},inOut:function(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}},to={in:function(t){return t*t*t*t*t},out:function(t){return 1-Math.pow(1-t,5)},inOut:function(t){return t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2}},no={in:function(t){return 1-Math.sqrt(1-Math.pow(t,2))},out:function(t){return Math.sqrt(1-Math.pow(t-1,2))},inOut:function(t){return t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2}},oo={in:function(t){return t*t*t*t},out:function(t){return 1- --t*t*t*t},inOut:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t}},ao={in:function(t){return t===0?0:Math.pow(2,10*t-10)},out:function(t){return t===1?1:1-Math.pow(2,-10*t)},inOut:function(t){return t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2}};function P(n,t,a){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:nn,r=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,p="velocity_"+t;if(n.__damp===void 0&&(n.__damp={}),n.__damp[p]===void 0&&(n.__damp[p]=0),Math.abs(n[t]-a)<=r)return n[t]=a,!1;e=Math.max(1e-4,e);var L=2/e,b=l(L*i),y=n[t]-a,M=a,T=c*e;y=Math.min(Math.max(y,-T),T),a=n[t]-y;var C=(n.__damp[p]+L*y)*i;n.__damp[p]=(n.__damp[p]-L*C)*b;var j=a+(y+C)*b;return M-n[t]>0==j>M&&(j=M,n.__damp[p]=(j-M)/i),n[t]=j,!0}var so=function(t){return t&&t.isCamera},io=function(t){return t&&t.isLight},he=new E,pt=new W,dt=new W,fe=new $t,Fe=new E;function ro(n,t,a,e,i,c,l){typeof t=="number"?he.setScalar(t):Array.isArray(t)?he.set(t[0],t[1],t[2]):he.copy(t);var r=n.parent;n.updateWorldMatrix(!0,!1),Fe.setFromMatrixPosition(n.matrixWorld),so(n)||io(n)?fe.lookAt(Fe,he,n.up):fe.lookAt(he,Fe,n.up),Ce(n.quaternion,dt.setFromRotationMatrix(fe),a,e,i,c,l),r&&(fe.extractRotation(r.matrixWorld),pt.setFromRotationMatrix(fe),Ce(n.quaternion,dt.copy(n.quaternion).premultiply(pt.invert()),a,e,i,c,l))}function se(n,t,a,e,i,c,l,r){return P(n,t,n[t]+qn(n[t],a),e,i,c,l,r)}var pe=new I,mt,bt;function co(n,t,a,e,i,c,l){return typeof t=="number"?pe.setScalar(t):Array.isArray(t)?pe.set(t[0],t[1]):pe.copy(t),mt=P(n,"x",pe.x,a,e,i,c,l),bt=P(n,"y",pe.y,a,e,i,c,l),mt||bt}var ne=new E,gt,vt,yt;function Be(n,t,a,e,i,c,l){return typeof t=="number"?ne.setScalar(t):Array.isArray(t)?ne.set(t[0],t[1],t[2]):ne.copy(t),gt=P(n,"x",ne.x,a,e,i,c,l),vt=P(n,"y",ne.y,a,e,i,c,l),yt=P(n,"z",ne.z,a,e,i,c,l),gt||vt||yt}var K=new Ae,wt,Mt,xt,Et;function lo(n,t,a,e,i,c,l){return typeof t=="number"?K.setScalar(t):Array.isArray(t)?K.set(t[0],t[1],t[2],t[3]):K.copy(t),wt=P(n,"x",K.x,a,e,i,c,l),Mt=P(n,"y",K.y,a,e,i,c,l),xt=P(n,"z",K.z,a,e,i,c,l),Et=P(n,"w",K.w,a,e,i,c,l),wt||Mt||xt||Et}var de=new En,Pt,_t,Ct;function uo(n,t,a,e,i,c,l){return Array.isArray(t)?de.set(t[0],t[1],t[2],t[3]):de.copy(t),Pt=se(n,"x",de.x,a,e,i,c,l),_t=se(n,"y",de.y,a,e,i,c,l),Ct=se(n,"z",de.z,a,e,i,c,l),Pt||_t||Ct}var oe=new Se,jt,At,St;function ho(n,t,a,e,i,c,l){return t instanceof Se?oe.copy(t):Array.isArray(t)?oe.setRGB(t[0],t[1],t[2]):oe.set(t),jt=P(n,"r",oe.r,a,e,i,c,l),At=P(n,"g",oe.g,a,e,i,c,l),St=P(n,"b",oe.b,a,e,i,c,l),jt||At||St}var F=new W,Z=new Ae,Dt=new Ae,me=new Ae,Ot,Tt,It,kt;function Ce(n,t,a,e,i,c,l){var r=n;Array.isArray(t)?F.set(t[0],t[1],t[2],t[3]):F.copy(t);var p=n.dot(F)>0?1:-1;return F.x*=p,F.y*=p,F.z*=p,F.w*=p,Ot=P(n,"x",F.x,a,e,i,c,l),Tt=P(n,"y",F.y,a,e,i,c,l),It=P(n,"z",F.z,a,e,i,c,l),kt=P(n,"w",F.w,a,e,i,c,l),Z.set(n.x,n.y,n.z,n.w).normalize(),Dt.set(r.__damp.velocity_x,r.__damp.velocity_y,r.__damp.velocity_z,r.__damp.velocity_w),me.copy(Z).multiplyScalar(Dt.dot(Z)/Z.dot(Z)),r.__damp.velocity_x-=me.x,r.__damp.velocity_y-=me.y,r.__damp.velocity_z-=me.z,r.__damp.velocity_w-=me.w,n.set(Z.x,Z.y,Z.z,Z.w),Ot||Tt||It||kt}var be=new Ye,Lt,Rt,Nt;function fo(n,t,a,e,i,c,l){return Array.isArray(t)?be.set(t[0],t[1],t[2]):be.copy(t),Lt=P(n,"radius",be.radius,a,e,i,c,l),Rt=se(n,"phi",be.phi,a,e,i,c,l),Nt=se(n,"theta",be.theta,a,e,i,c,l),Lt||Rt||Nt}var Ee=new $t,zt=new E,Ft=new W,Ht=new E,Yt,Ut,Bt;function po(n,t,a,e,i,c,l){var r=n;return r.__damp===void 0&&(r.__damp={position:new E,rotation:new W,scale:new E},n.decompose(r.__damp.position,r.__damp.rotation,r.__damp.scale)),Array.isArray(t)?Ee.set.apply(Ee,Bn(t)):Ee.copy(t),Ee.decompose(zt,Ft,Ht),Yt=Be(r.__damp.position,zt,a,e,i,c,l),Ut=Ce(r.__damp.rotation,Ft,a,e,i,c,l),Bt=Be(r.__damp.scale,Ht,a,e,i,c,l),n.compose(r.__damp.position,r.__damp.rotation,r.__damp.scale),Yt||Ut||Bt}var Gt=Object.freeze({__proto__:null,rsqw:Qn,exp:nn,linear:$n,sine:Jn,cubic:eo,quint:to,circ:no,quart:oo,expo:ao,damp:P,dampLookAt:ro,dampAngle:se,damp2:co,damp3:Be,damp4:lo,dampE:uo,dampC:ho,dampQ:Ce,dampS:fo,dampM:po}),mo=Object.defineProperty,bo=(n,t,a)=>t in n?mo(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a,go=(n,t,a)=>(bo(n,t+"",a),a);class vo{constructor(){go(this,"_listeners")}addEventListener(t,a){this._listeners===void 0&&(this._listeners={});const e=this._listeners;e[t]===void 0&&(e[t]=[]),e[t].indexOf(a)===-1&&e[t].push(a)}hasEventListener(t,a){if(this._listeners===void 0)return!1;const e=this._listeners;return e[t]!==void 0&&e[t].indexOf(a)!==-1}removeEventListener(t,a){if(this._listeners===void 0)return;const i=this._listeners[t];if(i!==void 0){const c=i.indexOf(a);c!==-1&&i.splice(c,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const e=this._listeners[t.type];if(e!==void 0){t.target=this;const i=e.slice(0);for(let c=0,l=i.length;c<l;c++)i[c].call(this,t);t.target=null}}}var yo=Object.defineProperty,wo=(n,t,a)=>t in n?yo(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a,u=(n,t,a)=>(wo(n,typeof t!="symbol"?t+"":t,a),a);const Pe=new Pn,Zt=new _n,Mo=Math.cos(70*(Math.PI/180)),qt=(n,t)=>(n%t+t)%t;let xo=class extends vo{constructor(t,a){super(),u(this,"object"),u(this,"domElement"),u(this,"enabled",!0),u(this,"target",new E),u(this,"minDistance",0),u(this,"maxDistance",1/0),u(this,"minZoom",0),u(this,"maxZoom",1/0),u(this,"minPolarAngle",0),u(this,"maxPolarAngle",Math.PI),u(this,"minAzimuthAngle",-1/0),u(this,"maxAzimuthAngle",1/0),u(this,"enableDamping",!1),u(this,"dampingFactor",.05),u(this,"enableZoom",!0),u(this,"zoomSpeed",1),u(this,"enableRotate",!0),u(this,"rotateSpeed",1),u(this,"enablePan",!0),u(this,"panSpeed",1),u(this,"screenSpacePanning",!0),u(this,"keyPanSpeed",7),u(this,"zoomToCursor",!1),u(this,"autoRotate",!1),u(this,"autoRotateSpeed",2),u(this,"reverseOrbit",!1),u(this,"reverseHorizontalOrbit",!1),u(this,"reverseVerticalOrbit",!1),u(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),u(this,"mouseButtons",{LEFT:ee.ROTATE,MIDDLE:ee.DOLLY,RIGHT:ee.PAN}),u(this,"touches",{ONE:te.ROTATE,TWO:te.DOLLY_PAN}),u(this,"target0"),u(this,"position0"),u(this,"zoom0"),u(this,"_domElementKeyEvents",null),u(this,"getPolarAngle"),u(this,"getAzimuthalAngle"),u(this,"setPolarAngle"),u(this,"setAzimuthalAngle"),u(this,"getDistance"),u(this,"getZoomScale"),u(this,"listenToKeyEvents"),u(this,"stopListenToKeyEvents"),u(this,"saveState"),u(this,"reset"),u(this,"update"),u(this,"connect"),u(this,"dispose"),u(this,"dollyIn"),u(this,"dollyOut"),u(this,"getScale"),u(this,"setScale"),this.object=t,this.domElement=a,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>b.phi,this.getAzimuthalAngle=()=>b.theta,this.setPolarAngle=o=>{let s=qt(o,2*Math.PI),f=b.phi;f<0&&(f+=2*Math.PI),s<0&&(s+=2*Math.PI);let g=Math.abs(s-f);2*Math.PI-g<g&&(s<f?s+=2*Math.PI:f+=2*Math.PI),y.phi=s-f,e.update()},this.setAzimuthalAngle=o=>{let s=qt(o,2*Math.PI),f=b.theta;f<0&&(f+=2*Math.PI),s<0&&(s+=2*Math.PI);let g=Math.abs(s-f);2*Math.PI-g<g&&(s<f?s+=2*Math.PI:f+=2*Math.PI),y.theta=s-f,e.update()},this.getDistance=()=>e.object.position.distanceTo(e.target),this.listenToKeyEvents=o=>{o.addEventListener("keydown",Le),this._domElementKeyEvents=o},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Le),this._domElementKeyEvents=null},this.saveState=()=>{e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=()=>{e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(i),e.update(),p=r.NONE},this.update=(()=>{const o=new E,s=new E(0,1,0),f=new W().setFromUnitVectors(t.up,s),g=f.clone().invert(),_=new E,U=new W,q=2*Math.PI;return function(){const rt=e.object.position;f.setFromUnitVectors(t.up,s),g.copy(f).invert(),o.copy(rt).sub(e.target),o.applyQuaternion(f),b.setFromVector3(o),e.autoRotate&&p===r.NONE&&ie(De()),e.enableDamping?(b.theta+=y.theta*e.dampingFactor,b.phi+=y.phi*e.dampingFactor):(b.theta+=y.theta,b.phi+=y.phi);let B=e.minAzimuthAngle,G=e.maxAzimuthAngle;isFinite(B)&&isFinite(G)&&(B<-Math.PI?B+=q:B>Math.PI&&(B-=q),G<-Math.PI?G+=q:G>Math.PI&&(G-=q),B<=G?b.theta=Math.max(B,Math.min(G,b.theta)):b.theta=b.theta>(B+G)/2?Math.max(B,b.theta):Math.min(G,b.theta)),b.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,b.phi)),b.makeSafe(),e.enableDamping===!0?e.target.addScaledVector(T,e.dampingFactor):e.target.add(T),e.zoomToCursor&&O||e.object.isOrthographicCamera?b.radius=Ie(b.radius):b.radius=Ie(b.radius*M),o.setFromSpherical(b),o.applyQuaternion(g),rt.copy(e.target).add(o),e.object.matrixAutoUpdate||e.object.updateMatrix(),e.object.lookAt(e.target),e.enableDamping===!0?(y.theta*=1-e.dampingFactor,y.phi*=1-e.dampingFactor,T.multiplyScalar(1-e.dampingFactor)):(y.set(0,0,0),T.set(0,0,0));let ce=!1;if(e.zoomToCursor&&O){let le=null;if(e.object instanceof ze&&e.object.isPerspectiveCamera){const ue=o.length();le=Ie(ue*M);const xe=ue-le;e.object.position.addScaledVector(D,xe),e.object.updateMatrixWorld()}else if(e.object.isOrthographicCamera){const ue=new E(w.x,w.y,0);ue.unproject(e.object),e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/M)),e.object.updateProjectionMatrix(),ce=!0;const xe=new E(w.x,w.y,0);xe.unproject(e.object),e.object.position.sub(xe).add(ue),e.object.updateMatrixWorld(),le=o.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),e.zoomToCursor=!1;le!==null&&(e.screenSpacePanning?e.target.set(0,0,-1).transformDirection(e.object.matrix).multiplyScalar(le).add(e.object.position):(Pe.origin.copy(e.object.position),Pe.direction.set(0,0,-1).transformDirection(e.object.matrix),Math.abs(e.object.up.dot(Pe.direction))<Mo?t.lookAt(e.target):(Zt.setFromNormalAndCoplanarPoint(e.object.up,e.target),Pe.intersectPlane(Zt,e.target))))}else e.object instanceof Ne&&e.object.isOrthographicCamera&&(ce=M!==1,ce&&(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/M)),e.object.updateProjectionMatrix()));return M=1,O=!1,ce||_.distanceToSquared(e.object.position)>L||8*(1-U.dot(e.object.quaternion))>L?(e.dispatchEvent(i),_.copy(e.object.position),U.copy(e.object.quaternion),ce=!1,!0):!1}})(),this.connect=o=>{e.domElement=o,e.domElement.style.touchAction="none",e.domElement.addEventListener("contextmenu",st),e.domElement.addEventListener("pointerdown",ot),e.domElement.addEventListener("pointercancel",re),e.domElement.addEventListener("wheel",at)},this.dispose=()=>{var o,s,f,g,_,U;e.domElement&&(e.domElement.style.touchAction="auto"),(o=e.domElement)==null||o.removeEventListener("contextmenu",st),(s=e.domElement)==null||s.removeEventListener("pointerdown",ot),(f=e.domElement)==null||f.removeEventListener("pointercancel",re),(g=e.domElement)==null||g.removeEventListener("wheel",at),(_=e.domElement)==null||_.ownerDocument.removeEventListener("pointermove",ke),(U=e.domElement)==null||U.ownerDocument.removeEventListener("pointerup",re),e._domElementKeyEvents!==null&&e._domElementKeyEvents.removeEventListener("keydown",Le)};const e=this,i={type:"change"},c={type:"start"},l={type:"end"},r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let p=r.NONE;const L=1e-6,b=new Ye,y=new Ye;let M=1;const T=new E,C=new I,j=new I,k=new I,N=new I,z=new I,x=new I,S=new I,v=new I,m=new I,D=new E,w=new I;let O=!1;const h=[],H={};function De(){return 2*Math.PI/60/60*e.autoRotateSpeed}function Y(){return Math.pow(.95,e.zoomSpeed)}function ie(o){e.reverseOrbit||e.reverseHorizontalOrbit?y.theta+=o:y.theta-=o}function Q(o){e.reverseOrbit||e.reverseVerticalOrbit?y.phi+=o:y.phi-=o}const $=(()=>{const o=new E;return function(f,g){o.setFromMatrixColumn(g,0),o.multiplyScalar(-f),T.add(o)}})(),we=(()=>{const o=new E;return function(f,g){e.screenSpacePanning===!0?o.setFromMatrixColumn(g,1):(o.setFromMatrixColumn(g,0),o.crossVectors(e.object.up,o)),o.multiplyScalar(f),T.add(o)}})(),J=(()=>{const o=new E;return function(f,g){const _=e.domElement;if(_&&e.object instanceof ze&&e.object.isPerspectiveCamera){const U=e.object.position;o.copy(U).sub(e.target);let q=o.length();q*=Math.tan(e.object.fov/2*Math.PI/180),$(2*f*q/_.clientHeight,e.object.matrix),we(2*g*q/_.clientHeight,e.object.matrix)}else _&&e.object instanceof Ne&&e.object.isOrthographicCamera?($(f*(e.object.right-e.object.left)/e.object.zoom/_.clientWidth,e.object.matrix),we(g*(e.object.top-e.object.bottom)/e.object.zoom/_.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}})();function Oe(o){e.object instanceof ze&&e.object.isPerspectiveCamera||e.object instanceof Ne&&e.object.isOrthographicCamera?M=o:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function Me(o){Oe(M/o)}function Te(o){Oe(M*o)}function Ve(o){if(!e.zoomToCursor||!e.domElement)return;O=!0;const s=e.domElement.getBoundingClientRect(),f=o.clientX-s.left,g=o.clientY-s.top,_=s.width,U=s.height;w.x=f/_*2-1,w.y=-(g/U)*2+1,D.set(w.x,w.y,1).unproject(e.object).sub(e.object.position).normalize()}function Ie(o){return Math.max(e.minDistance,Math.min(e.maxDistance,o))}function Ke(o){C.set(o.clientX,o.clientY)}function rn(o){Ve(o),S.set(o.clientX,o.clientY)}function We(o){N.set(o.clientX,o.clientY)}function cn(o){j.set(o.clientX,o.clientY),k.subVectors(j,C).multiplyScalar(e.rotateSpeed);const s=e.domElement;s&&(ie(2*Math.PI*k.x/s.clientHeight),Q(2*Math.PI*k.y/s.clientHeight)),C.copy(j),e.update()}function ln(o){v.set(o.clientX,o.clientY),m.subVectors(v,S),m.y>0?Me(Y()):m.y<0&&Te(Y()),S.copy(v),e.update()}function un(o){z.set(o.clientX,o.clientY),x.subVectors(z,N).multiplyScalar(e.panSpeed),J(x.x,x.y),N.copy(z),e.update()}function hn(o){Ve(o),o.deltaY<0?Te(Y()):o.deltaY>0&&Me(Y()),e.update()}function fn(o){let s=!1;switch(o.code){case e.keys.UP:J(0,e.keyPanSpeed),s=!0;break;case e.keys.BOTTOM:J(0,-e.keyPanSpeed),s=!0;break;case e.keys.LEFT:J(e.keyPanSpeed,0),s=!0;break;case e.keys.RIGHT:J(-e.keyPanSpeed,0),s=!0;break}s&&(o.preventDefault(),e.update())}function Qe(){if(h.length==1)C.set(h[0].pageX,h[0].pageY);else{const o=.5*(h[0].pageX+h[1].pageX),s=.5*(h[0].pageY+h[1].pageY);C.set(o,s)}}function $e(){if(h.length==1)N.set(h[0].pageX,h[0].pageY);else{const o=.5*(h[0].pageX+h[1].pageX),s=.5*(h[0].pageY+h[1].pageY);N.set(o,s)}}function Je(){const o=h[0].pageX-h[1].pageX,s=h[0].pageY-h[1].pageY,f=Math.sqrt(o*o+s*s);S.set(0,f)}function pn(){e.enableZoom&&Je(),e.enablePan&&$e()}function dn(){e.enableZoom&&Je(),e.enableRotate&&Qe()}function et(o){if(h.length==1)j.set(o.pageX,o.pageY);else{const f=Re(o),g=.5*(o.pageX+f.x),_=.5*(o.pageY+f.y);j.set(g,_)}k.subVectors(j,C).multiplyScalar(e.rotateSpeed);const s=e.domElement;s&&(ie(2*Math.PI*k.x/s.clientHeight),Q(2*Math.PI*k.y/s.clientHeight)),C.copy(j)}function tt(o){if(h.length==1)z.set(o.pageX,o.pageY);else{const s=Re(o),f=.5*(o.pageX+s.x),g=.5*(o.pageY+s.y);z.set(f,g)}x.subVectors(z,N).multiplyScalar(e.panSpeed),J(x.x,x.y),N.copy(z)}function nt(o){const s=Re(o),f=o.pageX-s.x,g=o.pageY-s.y,_=Math.sqrt(f*f+g*g);v.set(0,_),m.set(0,Math.pow(v.y/S.y,e.zoomSpeed)),Me(m.y),S.copy(v)}function mn(o){e.enableZoom&&nt(o),e.enablePan&&tt(o)}function bn(o){e.enableZoom&&nt(o),e.enableRotate&&et(o)}function ot(o){var s,f;e.enabled!==!1&&(h.length===0&&((s=e.domElement)==null||s.ownerDocument.addEventListener("pointermove",ke),(f=e.domElement)==null||f.ownerDocument.addEventListener("pointerup",re)),Mn(o),o.pointerType==="touch"?yn(o):gn(o))}function ke(o){e.enabled!==!1&&(o.pointerType==="touch"?wn(o):vn(o))}function re(o){var s,f,g;xn(o),h.length===0&&((s=e.domElement)==null||s.releasePointerCapture(o.pointerId),(f=e.domElement)==null||f.ownerDocument.removeEventListener("pointermove",ke),(g=e.domElement)==null||g.ownerDocument.removeEventListener("pointerup",re)),e.dispatchEvent(l),p=r.NONE}function gn(o){let s;switch(o.button){case 0:s=e.mouseButtons.LEFT;break;case 1:s=e.mouseButtons.MIDDLE;break;case 2:s=e.mouseButtons.RIGHT;break;default:s=-1}switch(s){case ee.DOLLY:if(e.enableZoom===!1)return;rn(o),p=r.DOLLY;break;case ee.ROTATE:if(o.ctrlKey||o.metaKey||o.shiftKey){if(e.enablePan===!1)return;We(o),p=r.PAN}else{if(e.enableRotate===!1)return;Ke(o),p=r.ROTATE}break;case ee.PAN:if(o.ctrlKey||o.metaKey||o.shiftKey){if(e.enableRotate===!1)return;Ke(o),p=r.ROTATE}else{if(e.enablePan===!1)return;We(o),p=r.PAN}break;default:p=r.NONE}p!==r.NONE&&e.dispatchEvent(c)}function vn(o){if(e.enabled!==!1)switch(p){case r.ROTATE:if(e.enableRotate===!1)return;cn(o);break;case r.DOLLY:if(e.enableZoom===!1)return;ln(o);break;case r.PAN:if(e.enablePan===!1)return;un(o);break}}function at(o){e.enabled===!1||e.enableZoom===!1||p!==r.NONE&&p!==r.ROTATE||(o.preventDefault(),e.dispatchEvent(c),hn(o),e.dispatchEvent(l))}function Le(o){e.enabled===!1||e.enablePan===!1||fn(o)}function yn(o){switch(it(o),h.length){case 1:switch(e.touches.ONE){case te.ROTATE:if(e.enableRotate===!1)return;Qe(),p=r.TOUCH_ROTATE;break;case te.PAN:if(e.enablePan===!1)return;$e(),p=r.TOUCH_PAN;break;default:p=r.NONE}break;case 2:switch(e.touches.TWO){case te.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;pn(),p=r.TOUCH_DOLLY_PAN;break;case te.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;dn(),p=r.TOUCH_DOLLY_ROTATE;break;default:p=r.NONE}break;default:p=r.NONE}p!==r.NONE&&e.dispatchEvent(c)}function wn(o){switch(it(o),p){case r.TOUCH_ROTATE:if(e.enableRotate===!1)return;et(o),e.update();break;case r.TOUCH_PAN:if(e.enablePan===!1)return;tt(o),e.update();break;case r.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;mn(o),e.update();break;case r.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;bn(o),e.update();break;default:p=r.NONE}}function st(o){e.enabled!==!1&&o.preventDefault()}function Mn(o){h.push(o)}function xn(o){delete H[o.pointerId];for(let s=0;s<h.length;s++)if(h[s].pointerId==o.pointerId){h.splice(s,1);return}}function it(o){let s=H[o.pointerId];s===void 0&&(s=new I,H[o.pointerId]=s),s.set(o.pageX,o.pageY)}function Re(o){const s=o.pointerId===h[0].pointerId?h[1]:h[0];return H[s.pointerId]}this.dollyIn=(o=Y())=>{Te(o),e.update()},this.dollyOut=(o=Y())=>{Me(o),e.update()},this.getScale=()=>M,this.setScale=o=>{Oe(o),e.update()},this.getZoomScale=()=>Y(),a!==void 0&&this.connect(a),this.update()}};const Eo=A.forwardRef(({makeDefault:n,camera:t,regress:a,domElement:e,enableDamping:i=!0,keyEvents:c=!1,onChange:l,onStart:r,onEnd:p,...L},b)=>{const y=X(m=>m.invalidate),M=X(m=>m.camera),T=X(m=>m.gl),C=X(m=>m.events),j=X(m=>m.setEvents),k=X(m=>m.set),N=X(m=>m.get),z=X(m=>m.performance),x=t||M,S=e||C.connected||T.domElement,v=A.useMemo(()=>new xo(x),[x]);return Jt(()=>{v.enabled&&v.update()},-1),A.useEffect(()=>(c&&v.connect(c===!0?S:c),v.connect(S),()=>void v.dispose()),[c,S,a,v,y]),A.useEffect(()=>{const m=O=>{y(),a&&z.regress(),l&&l(O)},D=O=>{r&&r(O)},w=O=>{p&&p(O)};return v.addEventListener("change",m),v.addEventListener("start",D),v.addEventListener("end",w),()=>{v.removeEventListener("start",D),v.removeEventListener("end",w),v.removeEventListener("change",m)}},[l,r,p,v,y,j]),A.useEffect(()=>{if(n){const m=N().controls;return k({controls:v}),()=>k({controls:m})}},[n,v]),A.createElement("primitive",Cn({ref:b,object:v,enableDamping:i},L))}),V=["DSC00680","DSC00933","DSC00966","DSC00983","DSC01011","DSC01040","DSC01064","DSC01071","DSC01103","DSC01145","DSC01420","DSC01461","DSC01489","DSC02031","DSC02064","DSC02069"],je=[{front:"book-cover",back:V[0]}];for(let n=1;n<V.length-1;n+=2)je.push({front:V[n%V.length],back:V[(n+1)%V.length]});je.push({front:V[V.length-1],back:"book-back"});const Ze=jn(n=>({page:0,setPage:t=>{const a=je.length;n({page:Math.max(0,Math.min(t,a))})},pages:je})),Po=Math.PI/180;function Xt(n){return n*Po}const _o="/3f-basic-version/assets/book-back-QokFQHVh.jpg",Co="/3f-basic-version/assets/book-cover-roughness-nVQEJE8L.jpg",jo="/3f-basic-version/assets/book-cover-Cms578LI.jpg",Ao="/3f-basic-version/assets/DSC00680-BgF-_PtJ.jpg",So="/3f-basic-version/assets/DSC00933-6mx-h05a.jpg",Do="/3f-basic-version/assets/DSC00966-DeECzUaQ.jpg",Oo="/3f-basic-version/assets/DSC00983-FTtQvFgI.jpg",To="/3f-basic-version/assets/DSC00993-3yJSHKDH.jpg",Io="/3f-basic-version/assets/DSC01011-DQ9VSUKO.jpg",ko="/3f-basic-version/assets/DSC01040-Bl6Wkc-r.jpg",Lo="/3f-basic-version/assets/DSC01064-Bv-XjQGG.jpg",Ro="/3f-basic-version/assets/DSC01071-CHp81jv3.jpg",No="/3f-basic-version/assets/DSC01103-CX88dxwu.jpg",zo="/3f-basic-version/assets/DSC01145-Ckd1LVT4.jpg",Fo="/3f-basic-version/assets/DSC01420-BX_Q2R-T.jpg",Ho="/3f-basic-version/assets/DSC01461-C6mXPpdu.jpg",Yo="/3f-basic-version/assets/DSC01489-B9AyBW3-.jpg",Uo="/3f-basic-version/assets/DSC02031-ByF5pkmg.jpg",Bo="/3f-basic-version/assets/DSC02064-DUZ6YNVD.jpg",Go="/3f-basic-version/assets/DSC02069-KTaVRdfK.jpg",on={"book-cover":jo,"book-back":_o,"book-cover-roughness":Co,DSC00680:Ao,DSC00933:So,DSC00966:Do,DSC00983:Oo,DSC00993:To,DSC01011:Io,DSC01040:ko,DSC01064:Lo,DSC01071:Ro,DSC01103:No,DSC01145:zo,DSC01420:Fo,DSC01461:Ho,DSC01489:Yo,DSC02031:Uo,DSC02064:Bo,DSC02069:Go},He=n=>on[n],Zo=Object.values(on),qo=.5,Xo=.3,Vo=.18,Ko=.05,Wo=.09,qe=1.28,Qo=1.71,Ge=.003,Xe=30,_e=qe/Xe,ye=new On(qe,Qo,Ge,Xe,2);ye.translate(qe/2,0,0);const Vt=ye.attributes.position,Kt=new E,an=[],sn=[];for(let n=0;n<Vt.count;n++){Kt.fromBufferAttribute(Vt,n);const t=Kt.x,a=Math.max(0,Math.floor(t/_e)),e=t%_e/_e;an.push(a,a+1,0,0),sn.push(1-e,e,0,0)}ye.setAttribute("skinIndex",new In(an,4));ye.setAttribute("skinWeight",new kn(sn,4));const ve=new Se("white"),Wt=new Se("orange"),$o=[new ae({color:ve}),new ae({color:"#111"}),new ae({color:ve}),new ae({color:ve})],Jo=({number:n,front:t,back:a,page:e,opened:i,bookClosed:c,totalPages:l,...r})=>{const[p,L,b]=en([He(t),He(a),...n===0||n===l-1?[He("book-cover-roughness")]:[]]);p.colorSpace=L.colorSpace=ct,b&&(b.colorSpace=ct);const y=A.useRef(null),M=A.useRef(0),T=A.useRef(i),C=A.useRef(null),[j,k]=A.useState(!1),{setPage:N}=Ze(),z=A.useMemo(()=>{const x=[];for(let D=0;D<=Xe;D++){const w=new An;x.push(w),D===0?w.position.x=0:w.position.x=_e,D>0&&x[D-1].add(w)}const S=new Sn(x),v=[...$o,new ae({color:ve,map:p,...n===0?{roughnessMap:b}:{roughness:.1},emissive:Wt,emissiveIntensity:0}),new ae({color:ve,map:L,...n===l-1?{roughnessMap:b}:{roughness:.1},emissive:Wt,emissiveIntensity:0})],m=new Dn(ye,v);return m.castShadow=!0,m.receiveShadow=!0,m.frustumCulled=!1,m.add(S.bones[0]),m.bind(S),m},[p,L,b,n,l]);return Jt((x,S)=>{if(!C.current)return;const v=j?.22:0,m=C.current.material;if(Array.isArray(m)){const h=m[4],H=m[5];h.emissiveIntensity=H.emissiveIntensity=Tn.lerp(h.emissiveIntensity,v,.1)}T.current!==i&&(M.current=+new Date,T.current=i);let D=Math.min(400,+new Date-M.current)/400;D=Math.sin(D*Math.PI);let w=i?-Math.PI/2:Math.PI/2;c||(w+=Xt(n*.8));const O=C.current.skeleton.bones;for(let h=0;h<O.length;h++){const H=h===0?y.current:O[h];if(!H)continue;const De=h<8?Math.sin(h*.2+.25):0,Y=h>=8?Math.cos(h*.3+.09):0,ie=Math.sin(h*Math.PI*(1/O.length))*D;let Q=Vo*De*w-Ko*Y*w+Wo*ie*w,$=Xt(Math.sign(w)*2);c&&(h===0?(Q=w,$=0):(Q=0,$=0)),Gt.dampAngle(H.rotation,"y",Q,qo,S);const we=h>8?Math.sin(h*Math.PI*(1/O.length)-.5)*D:0;Gt.dampAngle(H.rotation,"x",$*we,Xo,S)}}),zn(j),d.jsx("group",{...r,ref:y,onPointerEnter:x=>{x.stopPropagation(),k(!0)},onPointerLeave:x=>{x.stopPropagation(),k(!1)},onClick:x=>{x.stopPropagation(),N(i?n:n+1),k(!1)},children:d.jsx("primitive",{object:z,ref:C,"position-z":-n*Ge+e*Ge})})},ea=({...n})=>{const{page:t,pages:a}=Ze(),[e,i]=A.useState(t);return A.useEffect(()=>{Zo.forEach(c=>{en.preload(c)})},[]),A.useEffect(()=>{let c;const l=()=>{i(r=>t===r?(c&&clearTimeout(c),r):(c=setTimeout(()=>{l()},Math.abs(t-r)>2?50:150),t>r?r+1:t<r?r-1:r))};return l(),()=>{c&&clearTimeout(c)}},[t]),d.jsx("group",{...n,"rotation-y":-Math.PI/2,children:a.map((c,l)=>d.jsx(Jo,{page:e,number:l,opened:e>l,bookClosed:e===0||e===a.length,totalPages:a.length,...c},l))})},ta=()=>d.jsxs(d.Fragment,{children:[d.jsx(Ln,{"rotation-x":-Math.PI/4,floatIntensity:1,speed:2,rotationIntensity:2,children:d.jsx(ea,{})}),d.jsx(Eo,{}),d.jsx("directionalLight",{position:[2,5,2],intensity:2.5,castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"shadow-bias":-1e-4}),d.jsxs("mesh",{"position-y":-1.5,"rotation-x":-Math.PI/2,receiveShadow:!0,children:[d.jsx("planeGeometry",{args:[100,100]}),d.jsx("shadowMaterial",{transparent:!0,opacity:.2})]})]}),Qt=()=>d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"shrink-0 text-white text-10xl font-black ",children:"Charlie Liu"}),d.jsx("h2",{className:"shrink-0 text-white text-8xl italic font-light",children:"React Three Fiber"}),d.jsx("h2",{className:"shrink-0 text-transparent text-12xl font-bold italic outline-text",children:"Extremely"}),d.jsx("h2",{className:"shrink-0 text-white text-9xl font-medium",children:"Outstanding"}),d.jsx("h2",{className:"shrink-0 text-white text-9xl font-extralight italic",children:"Amazing"}),d.jsx("h2",{className:"shrink-0 text-white text-13xl font-bold",children:"Practice"}),d.jsx("h2",{className:"shrink-0 text-transparent text-13xl font-bold outline-text italic",children:"Piece"})]}),na=()=>{const{page:n,pages:t,setPage:a}=Ze();return A.useEffect(()=>{new Audio("/audios/page-flip-01a.mp3").play()},[n]),d.jsxs(d.Fragment,{children:[d.jsxs("main",{className:"pointer-events-none select-none z-10 fixed inset-0 flex justify-between flex-col",children:[d.jsx("a",{className:"pointer-events-auto mt-10 ml-10 drop-shadow-[0_0_4px_rgba(255,255,255,0.8)]",href:"https://github.com/sanMao147",target:"_blank",rel:"noopener noreferrer",children:d.jsx("svg",{height:"32","aria-hidden":"true",viewBox:"0 0 24 24",version:"1.1",width:"32","data-view-component":"true",fill:"#ffffff",children:d.jsx("path",{d:"M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"})})}),d.jsx("div",{className:"w-full overflow-auto pointer-events-auto flex justify-center",children:d.jsxs("div",{className:"overflow-auto flex items-center gap-4 max-w-full p-4 md:p-10",children:[t.map((e,i)=>d.jsx("button",{className:`border-transparent hover:border-white transition-all duration-300 px-3 md:px-4 py-2 md:py-3 rounded-full text-sm md:text-lg uppercase shrink-0 border ${i===n?"bg-white/90 text-black":"bg-black/30 text-white hover:bg-black/50"}`,onClick:()=>a(i),children:i===0?"Cover":`Page ${i}`},i)),d.jsx("button",{className:`border-transparent hover:border-white transition-all duration-300 px-3 md:px-4 py-2 md:py-3 rounded-full text-sm md:text-lg uppercase shrink-0 border ${n===t.length?"bg-white/90 text-black":"bg-black/30 text-white hover:bg-black/50"}`,onClick:()=>a(t.length),children:"Back Cover"})]})})]}),d.jsx("div",{className:"fixed inset-0 flex items-center overflow-hidden -rotate-2 select-none",children:d.jsx("div",{className:"flex items-center whitespace-nowrap",children:d.jsxs("div",{className:"bg-transparent horizontalScroll flex items-center gap-8 w-max px-8",children:[d.jsx(Qt,{}),d.jsx(Qt,{})]})})})]})},oa=()=>d.jsxs("div",{className:"w-full h-screen overflow-hidden",children:[d.jsx(na,{}),d.jsx(Rn,{shadows:!0,camera:{position:[-.5,1,4],fov:45},children:d.jsx(ta,{})}),d.jsx(Nn,{})]}),ca=()=>d.jsx(oa,{});export{ca as default};
